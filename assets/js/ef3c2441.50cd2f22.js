"use strict";(self.webpackChunkdevelopment_framework_docs=self.webpackChunkdevelopment_framework_docs||[]).push([[1939],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>g});var r=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var p=r.createContext({}),u=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=u(e.components);return r.createElement(p.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,l=e.originalType,p=e.parentName,s=a(e,["components","mdxType","originalType","parentName"]),d=u(t),g=i,m=d["".concat(p,".").concat(g)]||d[g]||c[g]||l;return t?r.createElement(m,o(o({ref:n},s),{},{components:t})):r.createElement(m,o({ref:n},s))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var l=t.length,o=new Array(l);o[0]=d;var a={};for(var p in n)hasOwnProperty.call(n,p)&&(a[p]=n[p]);a.originalType=e,a.mdxType="string"==typeof e?e:i,o[1]=a;for(var u=2;u<l;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},1090:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>a,toc:()=>u});var r=t(7462),i=(t(7294),t(3905));const l={title:"Plugin development",sidebar_position:1},o=void 0,a={unversionedId:"guides/plugin-development",id:"guides/plugin-development",title:"Plugin development",description:"Adding plugins",source:"@site/docs/guides/plugin-development.md",sourceDirName:"guides",slug:"/guides/plugin-development",permalink:"/dm-docs/docs/guides/plugin-development",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Plugin development",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Application development",permalink:"/dm-docs/docs/guides/application-development"},next:{title:"Administration",permalink:"/dm-docs/docs/guides/administration/"}},p={},u=[{value:"Adding plugins",id:"adding-plugins",level:2},{value:"Creating a new plugins",id:"creating-a-new-plugins",level:2},{value:"Creating a UI plugin",id:"creating-a-ui-plugin",level:3}],s={toc:u};function c(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,r.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"adding-plugins"},"Adding plugins"),(0,i.kt)("p",null,"Add the custom plugins under the ",(0,i.kt)("inlineCode",{parentName:"p"},"/plugins")," folder like shown here."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"web/\n|_ plugins/\n  |_ a-custom-plugin/\n    |_ package.json\n    |_ src/\n      |_ index.tsx\n|_ plugins.js\n")),(0,i.kt)("p",null,"Add the plugin (package name), e.g a plugin called custom-plugin, into the plugins.js file like this."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"export default [\n    // These are included by default\n    import('@dmt/default-pdf'),\n    import('@dmt/default-preview'),\n    // The extra plugin to be loaded\n    import('custom-plugin')\n  ]\n")),(0,i.kt)("p",null,"Then, build the docker container again, so that the plugin will be installed."),(0,i.kt)("h2",{id:"creating-a-new-plugins"},"Creating a new plugins"),(0,i.kt)("p",null,"You may be looking to build a plugin that doesn\u2019t exist yet, or you may just be curious to know more about the anatomy of a custom plugin (file structure, etc)."),(0,i.kt)("p",null,"A package.json is required."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "@dmt/custom-plugin",\n  "version": "1.0.0",\n  "main": "src/index.tsx",\n  "dependencies": {\n    "@development-framework/dm-core": "x.x.x"\n  }\n}\n')),(0,i.kt)("h3",{id:"creating-a-ui-plugin"},"Creating a UI plugin"),(0,i.kt)("p",null,"This is the template for a UI plugin."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-jsx"},"import * as React from 'react'\nimport { DmtPluginType, IDmtUIPlugin } from '@development-framework/dm-core'\n\nexport const pluginName = 'custom-plugin'\nexport const pluginType = DmtPluginType.UI\n\nexport const PluginComponent = (props: IDmtUIPlugin) => {\n  return (\n    <div>\n      Plugin content goes here!\n    </div>\n  )\n}\n")),(0,i.kt)("p",null,"Everything returned from the PluginComponent will be rendered."),(0,i.kt)("p",null,"The UI plugin recipes will use the pluginName in the plugin field, which means that this UI recipe will use that plugin, like this."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "uiRecipes": [\n    {\n      "name": "A custom view",\n      "type": "system/SIMOS/UiRecipe",\n      "description": "This shows a custom view",\n      "plugin": "custom-plugin",\n      "options": [],\n      "attributes": []\n    }\n  ]\n}\n')))}c.isMDXComponent=!0}}]);